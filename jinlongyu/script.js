eval(function(p,a,c,k,e,r){e=function(c){return(c<62?'':e(parseInt(c/62)))+((c=c%62)>35?String.fromCharCode(c+29):c.toString(36))};if('0'.replace(0,e)==0){while(c--)r[e(c)]=k[c];k=[function(e){return r[e]||e}];e=function(){return'([35-9df-hj-zA-Z]|1\\w)'};c=1};while(c--)if(k[c])p=p.replace(new RegExp('\\b'+e(c)+'\\b','g'),k[c]);return p}('3 upalbumal(G){5 n=$("#n").1e();5 d=G.d;o(f.1f){5 H=9 1f();H.readAsDataURL(d[0]);H.onerror=3(){p(\'读取文件出错，请重试！\');$(\'#q\').U()};H.r=3(e){o(1g(d[0].s,e.total)){p(\'请选择5m以内的图片\');V}W=X.1i;6.j=X.1i;6.r=3(){6.Y=\'I\';$(\'#J\').K(\'1j\').1k();$(\'#J\').t(6);u=G.s;Z()}}}10 o(f.11){W=f.11.createObjectURL(d[0]);6.j=W;6.r=3(e){f.11.revokeObjectURL(X.j);o(1g(d[0].s,d[0].size)){p(\'请选择5m以内的图片\');V}6.Y=\'I\';$(\'#J\').K(\'1j\').1k();$(\'#J\').t(6);u=G.s;Z()}}10{p(\'手机不支持读取本机照片\')}};5 v=0,8=1,1l=w;3 Z(){$(\'#q\').1m();5 el=12.getElementById("cut_cover");5 7=9 x.Manager(el);7.13(9 x.Pan({14:0,pointers:0}));7.13(9 x.Rotate({14:0})).1o(7.15(\'1p\'));7.13(9 x.Pinch({14:0})).1o([7.15(\'1p\'),7.15(\'L\')]);7.k("panstart panmove",1q);7.k("panend",1r);7.k("rotatestart rotatemove",1s);7.k("rotateend",1t);7.k("pinchstart pinchmove",1u);7.k("pinchend",1v)};5 1q=3(M){N=y+M.deltaX;O=z+M.deltaY;P()};5 1r=3(M){y=N;z=O};5 1s=3(e){v=A+e.rotation;P()};5 1t=3(e){A=v};5 1u=3(e){8=g*e.Q;8=8>4?4:(8<0.2?0.2:8);P()};5 1v=3(e){g=8};5 reqAnimationFrame=(3(){V f[x.prefixed(f,\'requestAnimationFrame\')]||3(1w){f.setTimeout(1w,1000/60)}})();3 P(){1x()};3 1x(){$(\'#I\').1y(1z,\'16(\'+N+\'R, \'+O+\'R) Q(\'+8+\',\'+8+\') L(\'+v+\'1A)\');1l=w}3 17(){$(\'#q\').U();y=N=z=O=A=v=0,g=8=1;overf=touct=w;$(\'#1B a:1C\').S(\'确定\').1D(\'a\').1m();$(\'#I\').attr(\'j\',\'\').1y(1z,\'16(\'+y+\'R, \'+z+\'R) Q(\'+g+\',\'+g+\') L(\'+A+\'1A)\')}3 cutok(){o(6.l>18){B=18;C=(6.D*18)/(6.l)}10{B=6.l;C=6.D}5 i=9 1E();5 E=12.1F(\'q\');5 h=E.1G(\'2d\');E.l=ww;E.D=wh-1b;h.fillStyle=\'rgba(1c,1c,1c,.1)\';h.fillRect(0,0,ww,(wh-1b));h.16(y+B/2,z+C/2);h.Q(g,g);h.L(A*Math.PI/180);h.1H(6,-B/2,-C/2,B,C);i.j=E.1I();i.r=3(){5 F=12.1F(\'q\');5 1J=F.1G(\'2d\');F.l=1K;F.D=1L;1J.1H(i,-(ww-1K)/2,-(wh-1b-1L)/2,i.l,i.D);5 T=9 1E();5 1d=F.1I();T.j=1d;T.r=3(){$(\'.1M .\'+u).K(\'.1N\').S(T);5 n=$("#n").1e();5 m=9 FormData();m.t(\'Y\',n);m.t(\'s\',u);m.t(\'file\',1d);$(\'#1B a:1C\').S(\'loading...\').1D(\'a\').U();$.ajax({url:\'../rest/v1/upload/uploadFile\',type:\'POST\',m:m,processData:w,contentType:w,success:3(ret){17()},error:3(a,b,c){$(\'.1M .\'+u).K(\'.1N\').S(\'\');17();p(\'存储失败\')}})}}}',[],112,'|||function||var|theimg|mc|cur_scale|new||||files||window|scale_s|tempctx||src|on|width|data|openId|if|alert|canvas|onload|name|append|curli|curdeg|false|Hammer|translateX|translateY|rate_deg|imgw|imgh|height|tempcanvas|res|obj|reader|cut_img|cut_wrap|find|rotate|ev|curx|cury|resetimg|scale|px|html|reimg|hide|return|result_imgsrc|this|id|cutimg|else|URL|document|add|threshold|get|translate|cutexit|640|||100|255|rdata|val|FileReader|notimg||result|img|remove|isanimate|show||recognizeWith|pan|onPan|onPanend|onRotate|onRotateend|onPinch|onPinchend|callback|reset_img|css|_transform|deg|card_wrap|first|siblings|Image|createElement|getContext|drawImage|toDataURL|res_ctx|cut_w|cut_h|select_topic|cur_wrap'.split('|'),0,{}))